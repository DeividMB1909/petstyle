<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetStyle - Mi Perfil</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/frontend/css/profile.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="logo">PetStyle</h1>
            <p class="subtitle">Tu perfil personalizado</p>
        </div>

        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-avatar" id="profileAvatar">
                üë§
                <div class="camera-btn" onclick="changeAvatar()" style="display: none;" id="cameraBtn">üì∑</div>
            </div>
            <div class="profile-name" id="profileName">Invitado</div>
            <div class="profile-email" id="profileEmail">Inicia sesi√≥n para personalizar tu experiencia</div>
            
            <!-- User Stats (Only for logged in users) -->
            <div class="stats-grid hidden" id="userStats">
                <div class="stat-item">
                    <div class="stat-number" id="ordersCount">0</div>
                    <div class="stat-label">Pedidos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="favoritesCount">0</div>
                    <div class="stat-label">Favoritos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="reviewsCount">0</div>
                    <div class="stat-label">Rese√±as</div>
                </div>
            </div>

            <!-- Login CTA (Only for guests) -->
            <div class="login-cta" id="loginCTA">
                <h3>¬°√önete a PetStyle!</h3>
                <p>Crea tu cuenta para acceder a ofertas exclusivas, historial de pedidos y mucho m√°s.</p>
                <a href="login.html" class="login-btn">Iniciar Sesi√≥n</a>
                <a href="register.html" class="register-btn">Crear Cuenta</a>
            </div>

            <!-- Pet Profiles (Only for logged in users) -->
            <div class="pet-profile hidden" id="petProfile">
                <h3>üêæ Mis Mascotas</h3>
                <div class="pet-grid" id="petGrid">
                    <div class="pet-card add-pet" onclick="openAddPetModal()">
                        <div class="pet-avatar">+</div>
                        <div>Agregar Mascota</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Account Section (For logged in users) -->
            <div class="menu-section hidden" id="accountSection">
                <h2 class="section-title">Mi Cuenta</h2>
                
                <div class="menu-item" onclick="openEditProfileModal()">
                    <div class="menu-icon">üë§</div>
                    <div class="menu-content">
                        <div class="menu-title">Informaci√≥n Personal</div>
                        <div class="menu-subtitle">Edita tu perfil y datos personales</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="openAddressModal()">
                    <div class="menu-icon">üìç</div>
                    <div class="menu-content">
                        <div class="menu-title">Direcciones</div>
                        <div class="menu-subtitle">Gestiona tus direcciones de env√≠o</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="openPaymentModal()">
                    <div class="menu-icon">üí≥</div>
                    <div class="menu-content">
                        <div class="menu-title">M√©todos de Pago</div>
                        <div class="menu-subtitle">Tarjetas y formas de pago</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="showOrderHistory()">
                    <div class="menu-icon">üì¶</div>
                    <div class="menu-content">
                        <div class="menu-title">Historial de Pedidos</div>
                        <div class="menu-subtitle">Revisa tus compras anteriores</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>
            </div>

            <!-- App Settings -->
            <div class="menu-section">
                <h2 class="section-title">Configuraci√≥n</h2>
                
                <div class="menu-item">
                    <div class="menu-icon">üîî</div>
                    <div class="menu-content">
                        <div class="menu-title">Notificaciones</div>
                        <div class="menu-subtitle">Recibe alertas de ofertas y pedidos</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="notificationsToggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="menu-item">
                    <div class="menu-icon">üåô</div>
                    <div class="menu-content">
                        <div class="menu-title">Modo Oscuro</div>
                        <div class="menu-subtitle">Cambia el tema de la aplicaci√≥n</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="menu-item" onclick="openLanguageModal()">
                    <div class="menu-icon">üåç</div>
                    <div class="menu-content">
                        <div class="menu-title">Idioma</div>
                        <div class="menu-subtitle">Espa√±ol</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="openCurrencyModal()">
                    <div class="menu-icon">üí∞</div>
                    <div class="menu-content">
                        <div class="menu-title">Moneda</div>
                        <div class="menu-subtitle">USD - D√≥lar Americano</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>
            </div>

            <!-- Support -->
            <div class="menu-section">
                <h2 class="section-title">Soporte</h2>
                
                <div class="menu-item" onclick="openHelpCenter()">
                    <div class="menu-icon">‚ùì</div>
                    <div class="menu-content">
                        <div class="menu-title">Centro de Ayuda</div>
                        <div class="menu-subtitle">Preguntas frecuentes y gu√≠as</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="contactSupport()">
                    <div class="menu-icon">üí¨</div>
                    <div class="menu-content">
                        <div class="menu-title">Contactar Soporte</div>
                        <div class="menu-subtitle">Chat en vivo y asistencia</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>

                <div class="menu-item" onclick="showAbout()">
                    <div class="menu-icon">‚ÑπÔ∏è</div>
                    <div class="menu-content">
                        <div class="menu-title">Acerca de PetStyle</div>
                        <div class="menu-subtitle">Versi√≥n 2.1.0</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>
            </div>

            <!-- Logout Button (Only for logged in users) -->
            <div class="menu-section hidden" id="logoutSection">
                <button class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item" onclick="navigateTo('main.html')">
                <div class="nav-icon">üè†</div>
                <div class="nav-label">Inicio</div>
            </div>
            <div class="nav-item" onclick="navigateTo('favorites.html')">
                <div class="nav-icon">‚ù§Ô∏è</div>
                <div class="nav-label">Favoritos</div>
            </div>
            <div class="nav-item" onclick="navigateTo('carrito.html')" style="position: relative;">
                <div class="nav-icon">üõí</div>
                <div class="nav-label">Carrito</div>
                <div class="cart-badge" id="cartBadge">0</div>
            </div>
            <div class="nav-item active">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Perfil</div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Editar Perfil</div>
            </div>
            <form id="editProfileForm">
                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" class="form-input" id="editName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="editEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Tel√©fono</label>
                    <input type="tel" class="form-input" id="editPhone">
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha de Nacimiento</label>
                    <input type="date" class="form-input" id="editBirthdate">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="closeModal('editProfileModal')">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Pet Modal -->
    <div class="modal" id="addPetModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Agregar Mascota</div>
            </div>
            <form id="addPetForm">
                <div class="form-group">
                    <label class="form-label">Nombre de la Mascota</label>
                    <input type="text" class="form-input" id="petName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo</label>
                    <select class="form-input" id="petType" required>
                        <option value="">Seleccionar tipo</option>
                        <option value="dog">üêï Perro</option>
                        <option value="cat">üê± Gato</option>
                        <option value="bird">üê¶ Ave</option>
                        <option value="rabbit">üê∞ Conejo</option>
                        <option value="hamster">üêπ H√°mster</option>
                        <option value="fish">üê† Pez</option>
                        <option value="other">üêæ Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Raza</label>
                    <input type="text" class="form-input" id="petBreed">
                </div>
                <div class="form-group">
                    <label class="form-label">Edad</label>
                    <input type="number" class="form-input" id="petAge" min="0" max="30">
                </div>
                <div class="form-group">
                    <label class="form-label">Peso (kg)</label>
                    <input type="number" class="form-input" id="petWeight" step="0.1" min="0">
                </div>
                <div class="form-group">
                    <label class="form-label">Notas Especiales</label>
                    <textarea class="form-input form-textarea" id="petNotes" placeholder="Alergias, preferencias, cuidados especiales..."></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="closeModal('addPetModal')">Cancelar</button>
                    <button type="submit" class="btn-primary">Agregar Mascota</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Address Modal -->
    <div class="modal" id="addressModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Gestionar Direcciones</div>
            </div>
            <div id="addressList">
                <div class="menu-item" onclick="openAddAddressModal()">
                    <div class="menu-icon">‚ûï</div>
                    <div class="menu-content">
                        <div class="menu-title">Agregar Nueva Direcci√≥n</div>
                        <div class="menu-subtitle">Casa, trabajo, etc.</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-secondary" onclick="closeModal('addressModal')">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Add Address Modal -->
    <div class="modal" id="addAddressModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Nueva Direcci√≥n</div>
            </div>
            <form id="addAddressForm">
                <div class="form-group">
                    <label class="form-label">Etiqueta</label>
                    <select class="form-input" id="addressLabel" required>
                        <option value="">Seleccionar etiqueta</option>
                        <option value="home">üè† Casa</option>
                        <option value="work">üè¢ Trabajo</option>
                        <option value="other">üìç Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Nombre del Destinatario</label>
                    <input type="text" class="form-input" id="recipientName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Direcci√≥n</label>
                    <input type="text" class="form-input" id="addressStreet" placeholder="Calle y n√∫mero" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ciudad</label>
                    <input type="text" class="form-input" id="addressCity" required>
                </div>
                <div class="form-group">
                    <label class="form-label">C√≥digo Postal</label>
                    <input type="text" class="form-input" id="addressZip" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Tel√©fono de Contacto</label>
                    <input type="tel" class="form-input" id="addressPhone">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="closeModal('addAddressModal')">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Direcci√≥n</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">M√©todos de Pago</div>
            </div>
            <div id="paymentList">
                <div class="menu-item" onclick="openAddPaymentModal()">
                    <div class="menu-icon">‚ûï</div>
                    <div class="menu-content">
                        <div class="menu-title">Agregar Tarjeta</div>
                        <div class="menu-subtitle">Visa, Mastercard, etc.</div>
                    </div>
                    <div class="menu-arrow">‚Ä∫</div>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-secondary" onclick="closeModal('paymentModal')">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Add Payment Modal -->
    <div class="modal" id="addPaymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Nueva Tarjeta</div>
            </div>
            <form id="addPaymentForm">
                <div class="form-group">
                    <label class="form-label">N√∫mero de Tarjeta</label>
                    <input type="text" class="form-input" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Nombre en la Tarjeta</label>
                    <input type="text" class="form-input" id="cardName" required>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div class="form-group">
                        <label class="form-label">Fecha de Expiraci√≥n</label>
                        <input type="text" class="form-input" id="cardExpiry" placeholder="MM/AA" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CVV</label>
                        <input type="text" class="form-input" id="cardCVV" placeholder="123" maxlength="4" required>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="closeModal('addPaymentModal')">Cancelar</button>
                    <button type="submit" class="btn-primary">Agregar Tarjeta</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Language Modal -->
    <div class="modal" id="languageModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Seleccionar Idioma</div>
            </div>
            <div>
                <div class="menu-item" onclick="changeLanguage('es')">
                    <div class="menu-icon">üá™üá∏</div>
                    <div class="menu-content">
                        <div class="menu-title">Espa√±ol</div>
                    </div>
                    <div class="menu-arrow" id="lang-es">‚úì</div>
                </div>
                <div class="menu-item" onclick="changeLanguage('en')">
                    <div class="menu-icon">üá∫üá∏</div>
                    <div class="menu-content">
                        <div class="menu-title">English</div>
                    </div>
                    <div class="menu-arrow" id="lang-en"></div>
                </div>
                <div class="menu-item" onclick="changeLanguage('pt')">
                    <div class="menu-icon">üáßüá∑</div>
                    <div class="menu-content">
                        <div class="menu-title">Portugu√™s</div>
                    </div>
                    <div class="menu-arrow" id="lang-pt"></div>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-secondary" onclick="closeModal('languageModal')">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Currency Modal -->
    <div class="modal" id="currencyModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Seleccionar Moneda</div>
            </div>
            <div>
                <div class="menu-item" onclick="changeCurrency('USD')">
                    <div class="menu-icon">üíµ</div>
                    <div class="menu-content">
                        <div class="menu-title">USD - D√≥lar Americano</div>
                    </div>
                    <div class="menu-arrow" id="curr-USD">‚úì</div>
                </div>
                <div class="menu-item" onclick="changeCurrency('MXN')">
                    <div class="menu-icon">üá≤üáΩ</div>
                    <div class="menu-content">
                        <div class="menu-title">MXN - Peso Mexicano</div>
                    </div>
                    <div class="menu-arrow" id="curr-MXN"></div>
                </div>
                <div class="menu-item" onclick="changeCurrency('EUR')">
                    <div class="menu-icon">üí∂</div>
                    <div class="menu-content">
                        <div class="menu-title">EUR - Euro</div>
                    </div>
                    <div class="menu-arrow" id="curr-EUR"></div>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-secondary" onclick="closeModal('currencyModal')">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="/frontend/js/profile.js"></script>
</body>
</html>