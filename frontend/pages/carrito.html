<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - PetStyle</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="logo">PetStyle</h1>
            <p class="subtitle">Tu carrito de compras</p>
        </div>

        <div class="content">
            <h2 class="section-title">Mi Carrito</h2>
            
            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-icon">üõí</div>
                <h3 class="empty-title">Tu carrito est√° vac√≠o</h3>
                <p class="empty-text">No has agregado ning√∫n producto a√∫n.<br>Explora nuestros incre√≠bles accesorios para mascotas y encuentra lo que m√°s te guste.</p>
                <a href="#" class="browse-btn" onclick="showToast('Navegando a productos...', 'success')">Explorar Productos</a>
            </div>

            <!-- Cart Items -->
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be loaded here -->
            </div>

            <!-- Promo Code Section -->
            <div class="promo-section" id="promoSection" style="display: none;">
                <div class="promo-title">üí∞ C√≥digo de Descuento</div>
                <div class="promo-input-group">
                    <input type="text" class="promo-input" id="promoInput" placeholder="Ingresa tu c√≥digo">
                    <button class="promo-btn" onclick="applyPromoCode()">Aplicar</button>
                </div>
            </div>

            <!-- Shipping Options -->
            <div class="shipping-options" id="shippingSection" style="display: none;">
                <h3 class="shipping-title">üöö Opciones de Env√≠o</h3>
                <div class="shipping-option selected" data-shipping="standard">
                    <input type="radio" class="shipping-radio" name="shipping" value="standard" checked>
                    <div class="shipping-info">
                        <div class="shipping-name">Env√≠o Est√°ndar</div>
                        <div class="shipping-time">5-7 d√≠as h√°biles</div>
                    </div>
                    <div class="shipping-price">Gratis</div>
                </div>
                <div class="shipping-option" data-shipping="express">
                    <input type="radio" class="shipping-radio" name="shipping" value="express">
                    <div class="shipping-info">
                        <div class="shipping-name">Env√≠o Express</div>
                        <div class="shipping-time">2-3 d√≠as h√°biles</div>
                    </div>
                    <div class="shipping-price">$5.99</div>
                </div>
                <div class="shipping-option" data-shipping="priority">
                    <input type="radio" class="shipping-radio" name="shipping" value="priority">
                    <div class="shipping-info">
                        <div class="shipping-name">Env√≠o Prioritario</div>
                        <div class="shipping-time">1-2 d√≠as h√°biles</div>
                    </div>
                    <div class="shipping-price">$12.99</div>
                </div>
            </div>

            <!-- Payment Methods -->
            <div class="payment-methods" id="paymentSection" style="display: none;">
                <h3 class="payment-title">üí≥ M√©todo de Pago</h3>
                
                <div class="payment-option selected" data-payment="card">
                    <input type="radio" class="payment-radio" name="payment" value="card" checked>
                    <div class="payment-icon">üí≥</div>
                    <div class="payment-info">
                        <div class="payment-name">Tarjeta de Cr√©dito/D√©bito</div>
                        <div class="payment-description">Visa, Mastercard, American Express</div>
                    </div>
                </div>

                <div class="card-form active" id="cardForm">
                    <div class="form-group">
                        <label class="form-label">N√∫mero de Tarjeta</label>
                        <input type="text" class="form-input" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Vencimiento</label>
                            <input type="text" class="form-input" id="cardExpiry" placeholder="MM/AA" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label class="form-label">CVV</label>
                            <input type="text" class="form-input" id="cardCvv" placeholder="123" maxlength="4">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nombre del Titular</label>
                        <input type="text" class="form-input" id="cardName" placeholder="Nombre completo">
                    </div>
                </div>

                <div class="payment-option" data-payment="paypal">
                    <input type="radio" class="payment-radio" name="payment" value="paypal">
                    <div class="payment-icon">üíô</div>
                    <div class="payment-info">
                        <div class="payment-name">PayPal</div>
                        <div class="payment-description">Pago seguro con tu cuenta PayPal o tarjeta</div>
                    </div>
                </div>

                <div class="payment-form" id="paypalForm">
                    <div class="form-group">
                        <label class="form-label">Email de PayPal</label>
                        <input type="email" class="form-input" id="paypalEmail" placeholder="tu-email@ejemplo.com">
                    </div>
                    <div class="payment-note">
                        <strong>Nota:</strong> Ser√°s redirigido a PayPal para completar el pago de forma segura.
                    </div>
                </div>

                <div class="payment-option" data-payment="transfer">
                    <input type="radio" class="payment-radio" name="payment" value="transfer">
                    <div class="payment-icon">üè¶</div>
                    <div class="payment-info">
                        <div class="payment-name">Transferencia Bancaria</div>
                        <div class="payment-description">SPEI - Transferencia electr√≥nica inmediata</div>
                    </div>
                </div>

                <div class="payment-form" id="transferForm">
                    <div class="transfer-info">
                        <h4>Datos para transferencia:</h4>
                        <div class="bank-details">
                            <div class="detail-row">
                                <span class="label">Banco:</span>
                                <span class="value">BBVA M√©xico</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Cuenta:</span>
                                <span class="value">0123456789</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">CLABE:</span>
                                <span class="value">012345678901234567</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Beneficiario:</span>
                                <span class="value">PetStyle M√©xico S.A. de C.V.</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Comprobante de Transferencia</label>
                        <input type="file" class="form-input" id="transferProof" accept="image/*,.pdf">
                        <div class="file-note">Sube tu comprobante de transferencia (JPG, PNG o PDF)</div>
                    </div>
                </div>

                <div class="payment-option" data-payment="oxxo">
                    <input type="radio" class="payment-radio" name="payment" value="oxxo">
                    <div class="payment-icon">üè™</div>
                    <div class="payment-info">
                        <div class="payment-name">OXXO</div>
                        <div class="payment-description">Paga en efectivo en cualquier tienda OXXO</div>
                    </div>
                </div>

                <div class="payment-form" id="oxxoForm">
                    <div class="oxxo-info">
                        <div class="oxxo-steps">
                            <h4>¬øC√≥mo pagar en OXXO?</h4>
                            <ol>
                                <li>Ac√©rcate a cualquier tienda OXXO</li>
                                <li>Proporciona el c√≥digo de barras generado</li>
                                <li>Realiza el pago en efectivo</li>
                                <li>Guarda tu comprobante de pago</li>
                            </ol>
                        </div>
                        <div class="oxxo-note">
                            <strong>Importante:</strong> El c√≥digo de barras ser√° generado despu√©s de confirmar tu pedido. Tienes 3 d√≠as para realizar el pago.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cart Summary -->
            <div class="cart-summary" id="summarySection" style="display: none;">
                <h3 class="summary-title">üìã Resumen del Pedido</h3>
                <div class="summary-row">
                    <span>Subtotal (<span id="itemCount">0</span> productos)</span>
                    <span id="subtotal">$0.00</span>
                </div>
                <div class="summary-row">
                    <span>Env√≠o</span>
                    <span id="shippingCost">Gratis</span>
                </div>
                <div class="summary-row" id="discountRow" style="display: none;">
                    <span>Descuento (<span id="discountCode"></span>)</span>
                    <span class="discount" id="discount">-$0.00</span>
                </div>
                <div class="summary-row" id="savingsRow" style="display: none;">
                    <span>¬°Ahorras!</span>
                    <span class="savings" id="savings">$0.00</span>
                </div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span id="total">$0.00</span>
                </div>
            </div>

            <!-- Checkout Button -->
            <button class="checkout-btn" id="checkoutBtn" style="display: none;" onclick="processOrder()">
                <span id="checkoutText">üöÄ Finalizar Compra</span>
                <div class="loading" id="checkoutLoading" style="display: none;"></div>
            </button>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="main.html" class="nav-item">
                <div class="nav-icon">üè†</div>
                <div class="nav-label">Inicio</div>
            </a>
            <a href="favorites.html" class="nav-item">
                <div class="nav-icon">‚ù§Ô∏è</div>
                <div class="nav-label">Favoritos</div>
            </a>
            <div class="nav-item active" style="position: relative;">
                <div class="nav-icon">üõí</div>
                <div class="nav-label">Carrito</div>
                <div class="cart-badge" id="cartBadge">0</div>
            </div>
            <a href="profile.html" class="nav-item">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Perfil</div>
            </a>
        </div>

        <!-- Order Success Modal -->
        <div class="modal-overlay" id="orderModal">
            <div class="modal">
                <div class="modal-icon">üéâ</div>
                <h3 class="modal-title">¬°Pedido Realizado!</h3>
                <p class="modal-text">Tu pedido ha sido procesado exitosamente. Recibir√°s un email de confirmaci√≥n en breve.</p>
                <div class="order-number" id="orderNumber">#PET-12345</div>
                <div class="modal-buttons">
                    <button class="modal-btn secondary" onclick="closeModal()">Seguir Comprando</button>
                    <button class="modal-btn primary" onclick="trackOrder()">Rastrear Pedido</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/frontend/js/carrito.js"></script>
</body>
</html>